
R version 3.2.3 (2015-12-10) -- "Wooden Christmas-Tree"
Copyright (C) 2015 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin13.4.0 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> # -------------------------------------------------------------------------------------------------
> # -------------------------------------------------------------------------------------------------
> 
> reducingResultsByLearner = function(lrn = NULL){
+ 
+   devtools::load_all()
+ 
+   # Creating meta level output dir
+   if(!dir.exists("output/")) {
+     dir.create(path = "output/", recursive = TRUE)
+   }
+ 
+   reg = loadRegistry("randomBot-files")
+ 
+   df = getJobInfo(reg, ids = findDone(reg))
+   algos.names = gsub(x = unique(df$algo), pattern = ".preproc", replacement = "" )
+ 
+   if(is.null(lrn) || lrn %nin% algos.names) {
+     stop("Please, give a valid learners's name.\n")
+   }
+ 
+   fn.filter = function(job, res){
+     algo.name = gsub(x = unique(job$algo.id), pattern = ".preproc", replacement = "" )
+     return(algo.name == lrn)
+   }
+   
+   sel.ids = filterResults(reg = reg, ids = findDone(reg), fun = fn.filter)
+   cat(" -", length(sel.ids), "job(s) were found for learner:\'",lrn,"\'\n")
+ 
+   res.list = reduceDefaultResults(reg = reg, ids = sel.ids)
+   ret = do.call("rbind", res.list)
+ 
+   # write.csv with the output/RData
+   output.file = paste0(gsub(x = lrn, pattern = "\\.", replacement = "_"), "_space")
+   write.csv(x = ret, file = paste0("output/", output.file, ".csv"))
+   save(x = ret, file = paste0("output/", output.file, ".RData"))
+ 
+ }
> 
> # -------------------------------------------------------------------------------------------------
> # -------------------------------------------------------------------------------------------------
> 
> # reducingResultsByLearner(lrn = "classif.rpart")
> reducingResultsByLearner(lrn = "classif.kknn")
Loading randomBot
Loading required package: mlr
Loading required package: BBmisc
Loading required package: ggplot2
Loading required package: ParamHelpers
Loading required package: BatchJobs
Sourcing configuration file: '/Library/Frameworks/R.framework/Versions/3.2/Resources/library/BatchJobs/etc/BatchJobs_global_config.R'
Sourcing configuration file: '/Users/rafael/Documents/Doutorado/Development/Projects/TUeProjects/randomBot/.BatchJobs.R'
BatchJobs configuration:
  cluster functions: Multicore
  mail.from: <my@sender.address.com>
  mail.to: <my@recipient.address.com>
  mail.start: none
  mail.done: none
  mail.error: none
  default.resources: walltime=2.88e+04, memory=1.024e+04
  debug: TRUE
  raise.warnings: FALSE
  staged.queries: TRUE
  max.concurrent.jobs: 24
  fs.timeout: NA

Loading registry: randomBot-files/registry.RData
 - 4 job(s) were found for learner:' classif.kknn '
Reducing 4 results...
reduceResults |+                                             |   0% (00:00:00)reduceResults |++++++++++++                                  |  25% (00:00:00)reduceResults |+++++++++++++++++++++++                       |  50% (00:00:00)reduceResults |++++++++++++++++++++++++++++++++++            |  75% (00:00:00)reduceResults |++++++++++++++++++++++++++++++++++++++++++++++| 100% (00:00:00)
Warning messages:
1: package 'checkmate' was built under R version 3.2.4 
2: package 'ggplot2' was built under R version 3.2.4 
3: In data.frame(..., check.names = FALSE) :
  row names were found from a short variable and have been discarded
4: In data.frame(..., check.names = FALSE) :
  row names were found from a short variable and have been discarded
5: In data.frame(..., check.names = FALSE) :
  row names were found from a short variable and have been discarded
6: In data.frame(..., check.names = FALSE) :
  row names were found from a short variable and have been discarded
> # reducingResultsByLearner(lrn = "classif.svm")
> # reducingResultsByLearner(lrn = "classif.gbm")
> # reducingResultsByLearner(lrn = "classif.ranger")
> 
> # -------------------------------------------------------------------------------------------------
> # -------------------------------------------------------------------------------------------------
> 
> proc.time()
   user  system elapsed 
  2.202   0.204   2.523 
